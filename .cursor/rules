---
description: 自动生成或编写 Git commit 消息时使用的规范。
alwaysApply: true
---

# Git Commit 消息规范

当生成 Git commit 消息时（包括点击 Git 面板的"小火花"图标自动生成），请严格遵守以下规则：

## 基本规则

1. **语言**：必须使用简体中文编写。
2. **格式**：使用 Conventional Commits 规范，格式为 `<type>: <description>`
3. **内容**：描述应简洁明了，准确反映代码变更，避免使用模糊词汇。

## Commit 类型说明

- `feat`: 新功能（feature）
- `fix`: 修复 bug
- `docs`: 文档更新
- `style`: 代码格式调整（不影响代码运行）
- `refactor`: 代码重构（既不是新功能也不是修复 bug）
- `perf`: 性能优化
- `test`: 测试相关
- `chore`: 构建过程或辅助工具的变动
- `build`: 构建系统或外部依赖的变更
- `ci`: CI 配置文件和脚本的变更

## 格式要求

- 类型和描述之间使用冒号和空格分隔：`type: description`
- 首字母小写（除非是专有名词）
- 结尾不使用句号
- 尽量控制在 50 个字符以内

## 示例

### 正确示例
- `feat: 添加人脸注册功能`
- `fix: 修复轨迹查询分页错误的问题`
- `docs: 更新 README 部署说明`
- `refactor: 重构人脸检测算法逻辑`
- `perf: 优化向量相似度搜索性能`
- `style: 统一代码缩进格式`
- `chore: 更新 NuGet 包版本`
- `build: 添加 res 文件夹打包配置`

### 错误示例
- `更新代码` ❌ (缺少类型前缀)
- `fix:修复bug` ❌ (冒号后缺少空格)
- `feat: 添加新功能.` ❌ (结尾不应有句号)
- `FEAT: 添加新功能` ❌ (类型应小写)
- `feat: 这是一个非常长的描述，超过了建议的字符限制，应该被简化` ❌ (过长)

## 多行 Commit 消息

如果需要更详细的说明，可以在第一行后添加空行，然后写详细描述：

```
feat: 添加人脸识别追踪功能

- 实现人脸注册 API 接口
- 集成 Qdrant 向量数据库
- 添加 FTP 文件夹监控服务
- 实现轨迹查询功能
```

## 注意事项

1. 每次 commit 只包含一个逻辑变更
2. 如果一次提交包含多个类型的变更，选择最重要的类型
3. 描述要具体，避免使用"更新"、"修改"等模糊词汇
4. 如果是修复问题，尽量说明修复的具体问题